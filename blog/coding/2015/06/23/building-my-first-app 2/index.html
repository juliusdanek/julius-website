<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Building my first iPhone apps &middot; Julius' Blog
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/blog/public/css/poole.css">
  <link rel="stylesheet" href="/blog/public/css/syntax.css">
  <link rel="stylesheet" href="/blog/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/blog/public/favicon_large.png">
  <link rel="shortcut icon" href="/blog/public/favicon_32x32.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <img class="sidebar-img" src="http://juliusdanek.de/blog//assets/images/julius_square_edited.jpg">
    <p>A blog by Julius Danek. For more details check out the about me, archives and my website</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/blog/">Posts</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/blog/about/">About</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/blog/archives/">Archives</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
    <a class="sidebar-nav-item" href="http://juliusdanek.de" target="_blank">Website</a>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015. All rights reserved. Built with <a href="https://github.com/poole/lanyon" target="_blank">Lanyon</a> by <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/blog/" title="Home">Julius' Blog</a>
            <small>Lifes's an adventure</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">Building my first iPhone apps</h1>
  <span class="post-date">23 Jun 2015</span>
  <p>Over the past two weeks I have been following the udacity.com <a href="https://www.udacity.com/course/ios-developer-nanodegree--nd003">nanodegree for the Swift programming language</a>. What started off fairly slow with an introductory course to Swift and a first project, building an app that modified your voice when recording, continued with an extremely steep learning curve for the next project - a meme creator application.</p>

<p>In this app, the user would be able to take choose an image or take one with his/her camera and amend “meme-style” text to it. Then the user would be able to save or share the created memes and look at all the created memes in a table. What sounds very easy was actually quite challenging as it involved several important concepts that needed to be applied in order for the application to function:</p>

<ul>
  <li>Understanding the use of UIKit</li>
  <li>Using NSNotifiction Center</li>
  <li>Resizing images</li>
  <li>Accessing the camera roll and the photo library</li>
  <li>Using navigation controller</li>
  <li>Using the tab controller</li>
  <li>Pushing viewcontrollers modally and through different methods</li>
  <li>Setting up table and collection views</li>
  <li>NSDate</li>
</ul>

<p>I started out by setting up a tabbed application in Xcode. The picture shows how my storyboard is set up. For those of you that do not know, the storyboard connects all the visual element of an iOS application. You connect those visual elements to the code behind the app. The code controls the visual elements as well as the data behind an application. This interaction is called the MVC - model view controller. The model is the data, the view are the visual elements and the controller connects the two as well controlling the visual output depending on the data. For more info check out: <a href="http://blog.codinghorror.com/understanding-model-view-controller/">http://blog.codinghorror.com/understanding-model-view-controller/</a>.</p>

<p>Check out the storyboard for my application. The tab view controller is first. When pressing the button on the top right you navigate to the meme editor. From there, an interaction with the “share” button will bring up the activity controller. Any interaction with that controller will add the meme to the data model and will get displayed in the table view that was also the starting point in the app. When you select a meme in the table view (or the collection view which can be selected in the beginning of the app) you get shown a detail view that allows to edit the meme or delete it.</p>

<p><img src="/blog/assets/images/meme-storyboard.png" alt="Meme-Me app picture" /></p>

<p>This is the starting point of the app. On the top right you are able to open the meme editor and start editing memes. The view is split into a table view and a collection view, accessible through the tab bar on the bottom. Since the table and collection are not populated with data yet (the user hasn’t created any memes), they are both hidden and a label is displayed instead that tells the user to add a meme first. As you can see, the editing button on the top left is disabled as well.</p>

<p><img src="/blog/assets/images/meme-empty-table.jpg" alt="Meme-me table view" /></p>

<p>When the “add” button is touched up, the meme-editor pushes up modally (meaning that it is its own contained view, coming up from the bottom, as opposed to navigating deeper into the application to the right, like for example in the settings app on your iPhone). Here you are able to select an image from your camera roll or take one yourself. The image then gets fit into an imageview surrounded by two textfields. These textfields have been modified with custom properties. When you edit the bottom text field, the entire bottom view pushes up. This piece of code was actually quite some work as the viewcontroller has to subscribe to notifications when the keyboard would shift up or down. Once these notifications “arrive”, the screen can be shifted up by the height of the keyboard. After subscribing to notifications, you need to unsubscribe when exiting the view and you also need to implement a function to shift the view back down when the keyboard hides. Code snippet below:</p>

<div class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">//subscribing to notifications -&gt; This function gets called before the view appears</span>
    <span class="k">func</span> <span class="nf">subscribeToKeyboardNotifications</span><span class="p">()</span> <span class="p">{</span>
        <span class="bp">NSNotificationCenter</span><span class="p">.</span><span class="n">defaultCenter</span><span class="p">().</span><span class="n">addObserver</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="nl">selector</span><span class="p">:</span> <span class="s">&quot;keyboardWillShow:&quot;</span>    <span class="p">,</span> <span class="nl">name</span><span class="p">:</span> <span class="n">UIKeyboardWillShowNotification</span><span class="p">,</span> <span class="nl">object</span><span class="p">:</span> <span class="nb">nil</span><span class="p">)</span>
        <span class="bp">NSNotificationCenter</span><span class="p">.</span><span class="n">defaultCenter</span><span class="p">().</span><span class="n">addObserver</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="nl">selector</span><span class="p">:</span> <span class="s">&quot;keyboardWillDisappear:&quot;</span><span class="p">,</span> <span class="nl">name</span><span class="p">:</span> <span class="n">UIKeyboardWillHideNotification</span><span class="p">,</span> <span class="nl">object</span><span class="p">:</span> <span class="nb">nil</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="c1">//finding out keyboard height in pixels</span>
    <span class="k">func</span> <span class="nf">getKeyboardHeight</span><span class="p">(</span><span class="nl">notification</span><span class="p">:</span> <span class="bp">NSNotification</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CGFloat</span> <span class="p">{</span>
        <span class="k">let</span> <span class="n">userInfo</span> <span class="o">=</span> <span class="n">notification</span><span class="p">.</span><span class="n">userInfo</span>
        <span class="k">let</span> <span class="n">keyboardSize</span> <span class="o">=</span> <span class="n">userInfo</span><span class="o">!</span><span class="p">[</span><span class="n">UIKeyboardFrameEndUserInfoKey</span><span class="p">]</span> <span class="kt">as</span><span class="o">!</span> <span class="bp">NSValue</span> <span class="c1">// of CGRect</span>
        <span class="k">return</span> <span class="n">keyboardSize</span><span class="p">.</span><span class="n">CGRectValue</span><span class="p">().</span><span class="n">height</span>
    <span class="p">}</span>
    
    <span class="c1">//what to do when the keyboard shifts up, conditional on the bottom text field being edited. Subtract the keyboard height from the frame origin, so it shifts up</span>
    <span class="k">func</span> <span class="n">keyboardWillShow</span><span class="p">(</span><span class="nl">notification</span><span class="p">:</span> <span class="bp">NSNotification</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">println</span><span class="p">(</span><span class="s">&quot;showing Keyboard&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">bottomField</span><span class="p">.</span><span class="n">isFirstResponder</span><span class="p">()</span> <span class="p">{</span>
            <span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">frame</span><span class="p">.</span><span class="n">origin</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span>  <span class="o">-</span><span class="n">getKeyboardHeight</span><span class="p">(</span><span class="n">notification</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span></code></pre></div>

<p><img src="/blog/assets/images/meme-editor.jpg" alt="Meme Editor" /></p>

<p>After the meme is ready, the user can take touch up the share button on the top left, which brings up an activity controller. The activity controller receives a snapshot of the created image and allows the user to share or save it. Any action except cancel will exit the meme-editor and add the image to the saved memes. Saved memes actually is an array in the app delegate, storing all the memes (apparently this is bad practice but I will learn about different ways of storing data soon). For this purpose I created a custom class Meme that stores the memes original images, the bottom and top text, the memedImage and the date and time created.</p>

<p><img src="/blog/assets/images/meme-activity.jpg" alt="Meme Activity Controller" /></p>

<p>After choosing an activity, the meme-editor will get exited and we can see the table view populated with the meme that we just created. The edit button allows us to delete the meme. The date created, the top text and the memedImage are displayed in a table cell. Every time the view loads, the table gets updated and re-populated. When touch up on the meme, a detail view pulls up that allows you to see the meme in full detail as well as deleting or editing it. Editing will pull up the meme editor and pass the information stored in the meme struct (topText, bottomText, original image) to the editor, allowing you to start off with the original meme.</p>

<p><img src="/blog/assets/images/meme-table-full.jpg" alt="Meme Table Populated" title="Populated Table" /></p>

<p>Concluding, I am very satisfied with my progress. The app looks pretty sleek. I still have some issues understanding the whole navigation controller concept and with some of the layout stuff but overall I have a pretty good idea how the MVC concept works and how data gets passed around through the app. I am excited about my next projects.</p>

<p><img src="/blog/assets/images/meme-detail.jpg" alt="Meme Detail Delete" title="Detail View" /></p>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/blog/coding/2015/07/14/persistent-pins-tutorial/">
            Swift Tutorial -  Persistent Annotations in MapKit with Core Data
            <small>14 Jul 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/finance/2015/06/20/sources-of-money/">
            Sources of money
            <small>20 Jun 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/blog/finance/2015/06/19/fundraising-101/">
            Fundraising 101
            <small>19 Jun 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
<div>
  
  <h2>Comment Section</h2>
  <h4>Feel free to leave a comment below!</h4>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES * * */
      var disqus_shortname = 'juliusdanek';
      
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
   
</div>
      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
